import{A as s,h as c,E as o}from"./headers-Dul6VsrZ.js";const i=document.getElementById("login-form");async function l(e){e.preventDefault();const a=new FormData(i),t=Object.fromEntries(a);try{const r=(await(await fetch(s,{method:"POST",headers:c(),body:JSON.stringify(t)})).json()).data;r?(localStorage.setItem("accessToken",r.accessToken),localStorage.setItem("user",JSON.stringify(r)),window.location.href="/profile/",r.error?o.innerHTML="Invalid email or password, please try again.":o.innerHTML="You have successfully logged in!"):o.innerHTML="Incorrect Username or password, please try again."}catch(n){console.error("Error:",n),o.innerHTML="An error occurred, please try again."}}async function d(e){e.preventDefault(),await l(e)}export{d as o};
